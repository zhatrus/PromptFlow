# Business Rules

## Core Rules

### MUST
- –ö–æ–Ω—Ç–µ–Ω—Ç MUST –±—É—Ç–∏ 100% —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é –º–æ–≤–æ—é
- –ö–Ω–æ–ø–∫–∞ "–ö–æ–ø—ñ—é–≤–∞—Ç–∏" MUST –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –Ω–∞ –≤—Å—ñ—Ö –ø—Ä–∏—Å—Ç—Ä–æ—è—Ö (–≤–∫–ª—é—á–Ω–æ –∑ iOS Safari)
- –ó–∞—Å—Ç–æ—Å—É–Ω–æ–∫ MUST –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –æ—Ñ–ª–∞–π–Ω –ø—ñ—Å–ª—è –ø–µ—Ä—à–æ–≥–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
- –ü—Ä–æ–º–ø—Ç–∏-—Ö–µ–ª–ø–µ—Ä–∏ MUST –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞ —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è
- –ü–æ—à—É–∫ MUST –∑–Ω–∞—Ö–æ–¥–∏—Ç–∏ –∫–æ–Ω—Ç–µ–Ω—Ç –∑–∞ —á–∞—Å—Ç–∫–æ–≤–∏–º –∑–±—ñ–≥–æ–º (fuzzy search)

### MUST NOT
- MUST NOT –º—ñ—Å—Ç–∏—Ç–∏ –∑–æ–≤–Ω—ñ—à–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —ñ–Ω—à—ñ —Å–∞–π—Ç–∏
- MUST NOT –≤—Ç—Ä–∞—á–∞—Ç–∏ –¥–∞–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –ø—Ä–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—ñ PWA
- MUST NOT –≤–∏–º–∞–≥–∞—Ç–∏ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó –¥–ª—è –±–∞–∑–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É (–§–∞–∑–∞ 1)
- MUST NOT –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ "–∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–æ" —Å–µ–∫—Ü—ñ—ó ‚Äî –≤—Å—ñ 7 —á–∞—Å—Ç–∏–Ω —Ä–æ–∑–∫—Ä–∏—Ç—ñ

### SHOULD
- SHOULD –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ —Ç–µ–º–Ω—É —Ç–∞ —Å–≤—ñ—Ç–ª—É —Ç–µ–º–∏ (—Å–∏—Å—Ç–µ–º–Ω–∞ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º)
- SHOULD –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –æ–±—Ä–∞–Ω—ñ/–∑–∞–∫–ª–∞–¥–∫–∏ –≤ IndexedDB
- SHOULD –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ toast-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—ñ—Å–ª—è –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è
- SHOULD –º–∞—Ç–∏ –∞–¥–∞–ø—Ç–∏–≤–Ω–∏–π –¥–∏–∑–∞–π–Ω (mobile-first)

---

## Features by Priority

### üî¥ P0 ‚Äî MVP (–§–∞–∑–∞ 1.0)
1. –ö—É—Ä—Å (7 —á–∞—Å—Ç–∏–Ω) ‚Äî —á–∏—Ç–∞–Ω–Ω—è, –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è
2. –•–µ–ª–ø–µ—Ä–∏ (15 –ø—Ä–æ–º–ø—Ç—ñ–≤) ‚Äî –ø–µ—Ä–µ–≥–ª—è–¥, –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è
3. PWA ‚Äî –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è, –æ—Ñ–ª–∞–π–Ω
4. –ü–æ—à—É–∫ ‚Äî –ø–æ –≤—Å—å–æ–º—É –∫–æ–Ω—Ç–µ–Ω—Ç—É
5. –¢–µ–º–∏ ‚Äî dark/light

### üü° P1 ‚Äî –§–∞–∑–∞ 1.1
1. –ú–æ—ó –ø—Ä–æ–º–ø—Ç–∏ ‚Äî –ª–æ–∫–∞–ª—å–Ω–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è (IndexedDB)
2. –ó–∞–∫–ª–∞–¥–∫–∏/–æ–±—Ä–∞–Ω–µ
3. –ö–≤—ñ–∑–∏ ‚Äî –±–∞–∑–æ–≤–∞ –≤–µ—Ä—Å—ñ—è

### üü¢ P2 ‚Äî –§–∞–∑–∞ 1.2
1. –ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ –ø—Ä–æ–º–ø—Ç—ñ–≤ ‚Äî —Å—Ç–∞—Ç–∏—á–Ω–∏–π –Ω–∞–±—ñ—Ä
2. –ï–∫—Å–ø–æ—Ä—Ç/—ñ–º–ø–æ—Ä—Ç –ø—Ä–æ–º–ø—Ç—ñ–≤ (JSON)

### ‚ö™ P3 ‚Äî –§–∞–∑–∞ 2 (SaaS)
1. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è (email/Google)
2. –•–º–∞—Ä–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è
3. –ü—É–±–ª—ñ—á–Ω—ñ –ø—Ä–æ–º–ø—Ç–∏ + –≥–æ–ª–æ—Å—É–≤–∞–Ω–Ω—è
4. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
5. –®–Ü-—ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è

---

## User Flows

### Flow: –ö–æ–ø—ñ—é–≤–∞–Ω–Ω—è –ø—Ä–æ–º–ø—Ç–∞
- **Trigger:** –ö–ª—ñ–∫ –Ω–∞ –∫–Ω–æ–ø–∫—É "–ö–æ–ø—ñ—é–≤–∞—Ç–∏"
- **Steps:**
  1. –û—Ç—Ä–∏–º–∞—Ç–∏ —Ç–µ–∫—Å—Ç –∑ code-block
  2. –°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –≤ –±—É—Ñ–µ—Ä –æ–±–º—ñ–Ω—É (Clipboard API)
  3. –ü–æ–∫–∞–∑–∞—Ç–∏ toast "–°–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ!"
  4. –ó–º—ñ–Ω–∏—Ç–∏ —ñ–∫–æ–Ω–∫—É –∫–Ω–æ–ø–∫–∏ –Ω–∞ ‚úì –Ω–∞ 2 —Å–µ–∫
- **Result:** –¢–µ–∫—Å—Ç —É –±—É—Ñ–µ—Ä—ñ, –≤—ñ–∑—É–∞–ª—å–Ω–∏–π feedback
- **Fallback:** –Ø–∫—â–æ Clipboard API –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π ‚Üí –ø–æ–∫–∞–∑–∞—Ç–∏ –º–æ–¥–∞–ª–∫—É –∑ —Ç–µ–∫—Å—Ç–æ–º –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è

### Flow: –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è "–ú—ñ–π –ø—Ä–æ–º–ø—Ç"
- **Trigger:** –ö–ª—ñ–∫ "–ó–±–µ—Ä–µ–≥—Ç–∏" –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä—ñ
- **Steps:**
  1. –í–∞–ª—ñ–¥–∞—Ü—ñ—è (–Ω–∞–∑–≤–∞ –æ–±–æ–≤'—è–∑–∫–æ–≤–∞)
  2. –ó–±–µ—Ä–µ–≥—Ç–∏ –≤ IndexedDB: { id, title, content, tags, createdAt, updatedAt }
  3. Toast "–ó–±–µ—Ä–µ–∂–µ–Ω–æ!"
  4. –û–Ω–æ–≤–∏—Ç–∏ —Å–ø–∏—Å–æ–∫
- **Result:** –ü—Ä–æ–º–ø—Ç –¥–æ—Å—Ç—É–ø–Ω–∏–π —É "–ú–æ—ó –ø—Ä–æ–º–ø—Ç–∏"
- **Edge case:** –Ø–∫—â–æ IndexedDB –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π ‚Üí localStorage fallback

### Flow: –ü–æ—à—É–∫
- **Trigger:** –í–≤–µ–¥–µ–Ω–Ω—è —Ç–µ–∫—Å—Ç—É –≤ –ø–æ–ª–µ –ø–æ—à—É–∫—É (debounce 300ms)
- **Steps:**
  1. Fuse.js fuzzy search –ø–æ: –Ω–∞–∑–≤–∞, –æ–ø–∏—Å, –∫–æ–Ω—Ç–µ–Ω—Ç, —Ç–µ–≥–∏
  2. –ü–æ–∫–∞–∑–∞—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ grouped by type (–ö—É—Ä—Å / –•–µ–ª–ø–µ—Ä–∏ / –ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ / –ú–æ—ó)
  3. –ü—ñ–¥—Å–≤—ñ—Ç–∏—Ç–∏ –∑–Ω–∞–π–¥–µ–Ω—ñ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∏
- **Result:** –°–ø–∏—Å–æ–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º–∏

---

## Content Structure

### –ö—É—Ä—Å (7 —á–∞—Å—Ç–∏–Ω)
1. –û—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—è –ø—Ä–æ–º–ø—Ç–∞ (8 —Ç–µ—Ö–Ω—ñ–∫)
2. –ü–æ–¥–∞—á–∞ –¥–∞–Ω–∏—Ö (5 —Ç–µ—Ö–Ω—ñ–∫)
3. –û–ø–∏—Å –ø—Ä–∞–≤–∏–ª (6 —Ç–µ—Ö–Ω—ñ–∫)
4. –ö–æ–Ω—Ç—Ä–æ–ª—å —Ñ–æ—Ä–º–∞—Ç—É –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ (8 —Ç–µ—Ö–Ω—ñ–∫)
5. –õ–µ–∫—Å–∏–∫–∞ —ñ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å (7 —Ç–µ—Ö–Ω—ñ–∫) ‚Äî –°–¢–í–û–†–ò–¢–ò
6. Few-shot –ø—Ä–∏–∫–ª–∞–¥–∏ (5 —Ç–µ—Ö–Ω—ñ–∫) ‚Äî –°–¢–í–û–†–ò–¢–ò
7. –õ–∞–π—Ñ—Ö–∞–∫–∏ (5+ –ø–æ—Ä–∞–¥) ‚Äî –°–¢–í–û–†–ò–¢–ò

### –•–µ–ª–ø–µ—Ä–∏ (15 –ø—Ä–æ–º–ø—Ç—ñ–≤)
1. –°—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ç–æ—Ä –ø—Ä–æ–º–ø—Ç–∞
2. –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø—Å–µ–≤–¥–æ–∫–æ–¥—É
3. –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä Self-Check
4. ASCII-—Ä–∞–º–∫–∞
5. JSON-—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ç–æ—Ä
6. –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä Few-shot
7. Prompt Decorators
8. XML-—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ç–æ—Ä
9. YAML-–∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ç–æ—Ä
10. –¢–∞–±–ª–∏—á–Ω–∏–π –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä
11. JSON-—Å—Ö–µ–º–∞ OUTPUT
12. –ö–æ–Ω—Ç—Ä–∞—Å—Ç–Ω—ñ –ø–∞—Ä–∏
13. –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ç–æ—Ä üî¥üü°üü¢
14. MetaGlyph-–∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä
15. –¢–æ–∫–µ–Ω–Ω–∏–π —Ä–æ–∑–¥—ñ–ª—å–Ω–∏–∫

---

## Open Questions
- –Ø–∫–∞ —Ñ—ñ–Ω–∞–ª—å–Ω–∞ –Ω–∞–∑–≤–∞? ZPrompt / ZakPrompt / PromptZ?
- –ß–∏ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –∞–Ω–≥–ª—ñ–π—Å—å–∫–∞ –≤–µ—Ä—Å—ñ—è —É –º–∞–π–±—É—Ç–Ω—å–æ–º—É?
- –Ø–∫–∏–π –¥–æ–º–µ–Ω –¥–ª—è SaaS –≤–µ—Ä—Å—ñ—ó?
